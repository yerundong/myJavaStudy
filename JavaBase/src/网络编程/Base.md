# 网络编程概述
Java是 Internet 上的语言，它从语言级上提供了对网络应用程序的支持，程序员能够很容易开发常见的网络应用程序。

Java提供的网络类库，可以实现无痛的网络连接，联网的底层细节被隐藏在 Java 的本机安装系统里，由 JVM 进行控制。并
且 Java 实现了一个跨平台的网络库，程序员面对的是一个统一的网络编程环境。

### 计算机网络：
把分布在不同地理区域的计算机与专门的外部设备用通信线路互连成一个规模大、功能强的网络系统，从而使众多的计算机可以方便地互相传递信息、
共享硬件、软件、数据信息等资源。

### 网络编程的目的：
直接或间接地通过网络协议与其它计算机实现数据交换，进行通讯。

### 网络编程中有两个主要的问题：
- 如何准确地定位网络上一台或多台主机；定位主机上的特定的应用
- 找到主机后如何可靠高效地进行数据传输

### 如何实现网络中的主机互相通信

> 通信双方地址：
1. IP
2. 端口号

> 一定的规则（即：网络通信协议。有两套参考模型）：
1. OSI参考模型：模型过于理想化，未能在因特网上进行广泛推广
2. TCP/IP参考模型(或TCP/IP协议)：事实上的国际标准。

### IP
IP 地址（InetAddress）是唯一的标识 Internet 上的计算机（通信实体）。

特点：不易记忆

本地回环地址(hostAddress)：127.0.0.1，主机名(hostName)：localhost

> IP地址分类方式1：
1. IPV4：4个字节组成，4个0-255。大概42亿，30亿都在北美，亚洲4亿。2011年初已经用尽。以点分十进制表示，如192.168.0.1
2. IPV6：128位（16个字节），写成8个无符号整数，每个整数用四个十六进制位表示，数之间用冒号（：）分开，如：3ffe:3201:1401:1280:c8ff:fe4d:db39:1984

> IP地址分类方式2：

公网地址(万维网使用)和私有地址(局域网使用)。192.168.开头的就是私有址址，范围即为192.168.0.0--192.168.255.255，专门为组织机构内部使用。

### 端口号
端口号（Port number）标识正在计算机上运行的进程（程序）。

不同的进程有不同的端口号。

被规定为一个 16 位的整数 0~65535。 

> 端口分类：
1. 公认端口：0~1023。被预先定义的服务通信占用（如：HTTP占用端口80，FTP占用端口21，Telnet占用端口23） 
2. 注册端口：1024~49151。分配给用户进程或应用程序。（如：Tomcat默认占用端口8080，MySQL默认占用端口3306，Oracle默认占用端口1521等）。
3. 动态/私有端口：49152~65535。

> 端口号与IP地址的组合得出一个网络套接字：Socket。

### 主机名
主机名（hostname）就是计算机的名字（计算机名），因特网上的主机或Web站点由主机名识别。主机名有时称为域名。主机名映射到IP地址，但是主机名和IP地址之间没有一对一关系。

主机名由称为DNS服务器或域名服务器的服务器映射到IP地址。DNS代表域名服务。在大型网络中，许多DNS服务器可以相互协作，以提供主机名和IP地址之间的映射。

在互联网中，主机名称被附在域名系统（DNS）的域名之后，形成完整域名。

本地主机名：localhost

### 域名
域名（Domain Name），又称网域，是由一串用点分隔的名字组成的Internet上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识（有时也指地理位置）。

由于IP地址具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（DNS，Domain Name System）来将域名和IP地址相互映射，使人更方便地访问互联网，而不用去记住能够被机器直接读取的IP地址数串。

尽管IP地址能够唯一地标记网络上的计算机，但IP地址是一长串数字，不直观，而且用户记忆十分不方便，于是人们又发明了另一套字符型的地址方案，即所谓的域名地址。IP地址和域名是一一对应的，这份域名地址的信息存放在一个叫域名服务器(DNS，Domain name server)的主机内，使用者只需了解易记的域名地址，其对应转换工作就留给了域名服务器。域名服务器就是提供IP地址和域名之间的转换服务的服务器。

 域名入网结构:主机名、机构名、网络名、最高层域名 

> Internet上的主机有两种方式表示地址：
- 域名(domain name)：www.atguigu.com
- IP 地址(hostAddress)：202.108.35.210

> 主机名和域名的联系与区别如下：
1. Internet域名是Internet网络上的一个服务器或一个网络系统的名字,在全世界,没有重复的域名。域名的范围要比主机名大。一个域名下可以有多个主机名,域名下还可以有子域名。例如,域名cnwg.cn下,有主机server1和server2,其主机全名就是server1.cnwg.cn和server2.cnwg.cn
2. 主机名的含义是机器本身的名字，域名是方面记录IP地址才做的一种IP映射；二者有共性：都能对应到一个唯一的IP上。从应用场景上可以这么简单理解二者的区别：主机名用于局域网中；域名用于公网中。

### 网络通信协议
计算机网络中实现通信必须有一些约定，即通信协议，对速率、传输代码、代码结构、传输控制步骤、出错控制等制定标准。

- 问题：网络协议太复杂

计算机网络通信涉及内容很多，比如指定源地址和目标地址，加密解密，压缩解压缩，差错控制，流量控制，路由控制，如何实现如此复杂的网络协议呢？ 

- 通信协议分层的思想

在制定协议时，把复杂成份分解成一些简单的成份，再将它们复合起来。最常用的复合方式是层次方式，即同层间可以通信、上一层可以调用下一层，而与
再下一层不发生关系。各层互不影响，利于系统的开发和扩展。

传输层协议中有两个非常重要的协议：
1. 传输控制协议TCP(Transmission Control Protocol)
2. 用户数据报协议UDP(User Datagram Protocol)。

> TCP/IP协议簇

TCP/IP 以其两个主要协议：传输控制协议(TCP)和网络互联协议(IP)而得名，实际上是一组协议，包括多个具有不同功能且互为关联的协议。

- IP(Internet Protocol)协议是网络层的主要协议，支持网间互连的数据通信。
- TCP/IP协议模型从更实用的角度出发，形成了高效的四层体系结构，即物理链路层、IP层、传输层和应用层。

TCP协议：
- 使用TCP协议前，须先建立TCP连接，形成传输数据通道
- 传输前，采用“三次握手”方式，点对点通信，是可靠的
- TCP协议进行通信的两个应用进程：客户端、服务端。
- 在连接中可进行大数据量的传输
- 传输完毕，需释放已建立的连接，效率低

UDP协议：
- 将数据、源、目的封装成数据包，不需要建立连接
- 每个数据报的大小限制在64K内 
- 发送不管对方是否准备好，接收方收到也不确认，故是不可靠的 
- 可以广播发送
- 发送数据结束时无需释放资源，开销小，速度快



